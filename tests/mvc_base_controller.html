<!-- Standard Code -->

<html><head>
    
<script type="text/javascript" src="../../ext/adapter/ext/ext-base.js"></script>
<script type="text/javascript" src="../../ext/ext-all-debug.js"></script>
<script type="text/javascript" src="../../jsunit/app/jsUnitCore.js"></script>
<script type="text/javascript" src="jsmock.js"></script>
<script type="text/javascript" src="helpers.js"></script>

<!-- End Standard Code -->

<script type="text/javascript" src="../collection_index.js"></script>
<script type="text/javascript" src="../mvc_crud_controller.js"></script>

</head><body><script type="text/javascript">

function testInitForm() {
  var controller = new SWorks.BaseController();
  var form = new Ext.form.BasicForm();

  // should index the fields
  controller.initForm(form);
  assert(form.items.maps['dataIndex'] == form.fields);

  // should not re-init the form
  var firstIndex = form.fields;
  controller.initForm(form);
  assert(form.fields == firstIndex);

  assertEventRelay(form, controller, 'beforeaction');
  assertEventRelay(form, controller, 'actionfailed');
  assertEventRelay(form, controller, 'actioncomplete');
}

</script></body></html>
